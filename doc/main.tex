\documentclass[footinclude=false,11pt,DIV11]{scrartcl}

% Wenzel's standard prelude
% ----- 8< ----- 8< ------

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{array}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{color}
\usepackage{colortbl}
\usepackage{listings}
\usepackage{enumerate}
\usepackage{upquote}
\usepackage[absolute]{textpos} % Manual placement of certain things
\usepackage{ragged2e} % Ragged-right columns with hyphenation
\usepackage{nicefrac}
\usepackage{macros}
\usepackage[format=hang,font=small,labelfont=bf]{caption}
\usepackage[expansion=false, babel=true]{microtype}
\usepackage{subfig}

% Make sure that ligatures remain searchable in the PDF
\input glyphtounicode
\pdfgentounicode=1

\IfFileExists{MinionPro.sty}
   {\usepackage[opticals,fullfamily,lf]{MinionPro}}
      {\message{Package MinionPro.sty was not found.}}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

\newcommand{\MitsubaVersion}{0.3.0}

\typearea[current]{last}
\raggedbottom
\renewcommand*\ttdefault{txtt}

\usepackage{scrpage2}
\ofoot[]{}
\cfoot[]{}
\automark[subsection]{section}
\ihead{\sc\leftmark}
\ohead{\sc\rightmark}
\chead{}
\setheadsepline{.2pt}
\setkomafont{pagenumber}{\normalfont}
\addtokomafont{sectioning}{\color{myblue}\rmfamily}
\addtokomafont{descriptionlabel}{\rmfamily}
\pagestyle{scrheadings}

\usepackage[
	bookmarks,
	bookmarksnumbered,
	colorlinks,
	plainpages=false,
	pdfpagelabels,
	hypertexnames=false,
	linkcolor=myblue,
	urlcolor=myblue,
	citecolor=myblue,
	pdfpagelabels,
	pdftitle={Mitsuba \MitsubaVersion\, Documentation},
	pdfauthor={Wenzel Jakob},
	pdfstartview=FitH
]{hyperref}

\definecolor{myblue}{rgb}{0,.1,.6}
\definecolor{myred}{rgb}{0.63,.16,.16}
\definecolor{lstshade}{gray}{0.95}
\definecolor{lstframe}{gray}{0.80}
\definecolor{lstcomment}{gray}{0.5}
\definecolor{lstattrib}{rgb}{0,0.34,0}

% Listings settings
\lstset{
	basicstyle = \small\ttfamily\raggedright,
	mathescape = true,
	frame = lrtb,
	backgroundcolor = \color{lstshade},
	rulecolor = \color{lstframe},
	tabsize = 4,
	columns = flexible,
	keepspaces,
	belowskip = \smallskipamount,
	framerule = .7pt,
	breaklines = true,
	showstringspaces = false,
	keywordstyle = \bfseries,
	captionpos = b,
	upquote = true
}

\lstdefinelanguage{xml} {
	sensitive=true,
	morecomment=[s][\color{lstcomment}\itshape]{<!--}{-->},
	morecomment=[s][\color{lstcomment}]{<?}{?>},
	string=[b]", stringstyle=\color{lstattrib},
	keywords= [1] {
		shape,bsdf,scene,texture,phase,integer,float,
		string,transform,ref,rgb,srgb,spectrum,blackbody,
		medium,camera,film,sampler,integrator,luminaire,
		translate,rotate,scale,lookAt,point,vector,matrix,
		include,fscat
	},
}

% Set up textpos
\TPGrid{68}{108}

% Thick frames for images
\setlength\fboxsep{0pt}
\setlength\fboxrule{1.5pt}

% Less vertical spacing for \figure[h] floats
\setlength{\intextsep}{3pt}

\lstnewenvironment{shell}[1][]{\lstset{#1}}
	{}
\lstnewenvironment{cpp}[1][]{\lstset{language=c++, #1}}
	{}
\lstnewenvironment{xml}[1][]{\lstset{language=xml, #1}}
	{}
\lstnewenvironment{console}[1][]{\lstset{basicstyle=\footnotesize\ttfamily, float, #1}}
	{}

% ----- 8< ----- 8< ------

\title{
	Mitsuba Documentation\\\vspace{3mm}
	\large Version \MitsubaVersion
}
\author{Wenzel Jakob}
\date{\today}

\begin{document}
\maketitle
\clearpage
\ofoot[\pagemark]{\pagemark}

\tableofcontents

\include{introduction}
\include{compiling}
\include{basics}
\include{format}
\IfFileExists{plugins_generated.tex}{\include{plugins_generated}}{}
%\include{import}
%\include{development}
%\include{integrator}
%\include{parallelization}
\include{acknowledgements}

\bibliographystyle{acm}
\bibliography{main}

\end{document}
